<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https: http:;">
        <title>cūriōsitās</title>
        <link rel="stylesheet" href="styles.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    </head>
    <body class="chemistry-headings">
        <div class="top-bar">
            <div class="logo-container">
                <img src="logo.png" alt="Curiositas Logo" class="site-logo" />
            </div>
            <div class="top-buttons">
                <a href="index.html" title="Home">
                    <img src="src/images/icon/purple_blue_metallic_heart.png" alt="Home" class="nav-icon-btn" />
                    <span class="nav-label">Home</span>
                </a>
                <a href="contact.html" title="Contact Us">
                    <img src="src/images/pink_flip_phone.png" alt="Contact Us" class="nav-icon-btn" />
                    <span class="nav-label">Contact Us</span>
                </a>
            </div>
        </div>
        <div class="header-row">
            <h1 class="chemistry-title">Chemistry</h1>
        </div>
        <main>
            <div class="definition-image-row">
                <img src="src/images/definitions/chemistry.png" alt="Chemistry Definition" class="definition-img" style="display: block; margin: 32px auto 24px auto; z-index: 10; position: static;" />
                <img id="chem-figure-img" src="src/images/quotes/ch1.png" alt="Chemistry Quote Figure" class="chem-figure-img" style="display: block; margin: 32px 0 24px 32px; cursor: pointer;" />
            </div>
            <div class="mission-statement">
                
                <h2 class="chemistry-section">Opportunities</h2>
                <a href="https://astro-pi.org/">AStro Pi</a>
                <p>AStro Pi is a program that allows students to build and program robots to explore space. It is a great way to learn about space and robotics.</p>
                
                <div class="popular-articles chemistry-articles">
                    <h2 class="chemistry-section">Popular Articles</h2>
                    <div id="top-articles-list" class="article-grid">
                        {# ELEVENTY WILL INJECT THE ARTICLES HERE #}
                        {% set filteredArticles = collections.articles | filterBySubject("Chemistry") %} {# Filters for "Chemistry" articles #}
                        {% if filteredArticles.length %}
                            {% for article in filteredArticles %}
                                <div class="article-summary">
                                    <h3><a href="/articles/{{ article.slug }}/">{{ article.title }}</a></h3> {# Link to the individual article page #}
                                    <p class="article-meta">
                                        By {{ article.author }} on <time datetime="{{ article.date | htmlDateString }}">{{ article.date | readableDate }}</time>
                                    </p>
                                    {% if article.tags.length %}
                                        <p class="article-tags">Tags:
                                            {% for tag in article.tags %}
                                                <span class="tag">{{ tag }}</span>{% if not loop.last %}, {% endif %}
                                            {% endfor %}
                                        </p>
                                    {% endif %}
                                    {# You can add article.description here if you add it to your Notion database #}
                                    <a href="/articles/{{ article.slug }}/">Read More</a>
                                </div>
                                {% if not loop.last %}<hr>{% endif %} {# Add a horizontal rule between articles #}
                            {% endfor %}
                        {% else %}
                            <p>No articles found for Chemistry yet. Check back soon!</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </main>   
        <div id="articleModal" class="modal">
            <div id="modalContent" class="modal-content">
                <!-- Article content will be injected here by the script -->
            </div>
        </div>
    <script src="script.js"></script>
    <script>
        const chemFigures = [
            'src/images/quotes/ch1.png',
            'src/images/quotes/ch2.png',
            'src/images/quotes/ch3.png',
            'src/images/quotes/ch4.png',
            'src/images/quotes/ch5.png'
        ];
        let currentChemFigure = 0;
        const chemFigureImg = document.getElementById('chem-figure-img');
        const chemDefinitionImg = document.querySelector('.definition-img');
        function matchChemFigureHeight() {
            if (chemDefinitionImg && chemFigureImg) {
                chemFigureImg.style.height = chemDefinitionImg.clientHeight + 'px';
                chemFigureImg.style.width = 'auto';
            }
        }
        window.addEventListener('load', matchChemFigureHeight);
        window.addEventListener('resize', matchChemFigureHeight);
        chemFigureImg.addEventListener('click', function() {
            currentChemFigure = (currentChemFigure + 1) % chemFigures.length;
            chemFigureImg.src = chemFigures[currentChemFigure];
            matchChemFigureHeight();
        });
    </script>
    </body>
</html>