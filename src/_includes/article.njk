---
layout: base
---
<!-- Article header section -->
<div class="article-header">
  <h1 class="article-title">{{ article.title or title }}</h1>
  {% if article.excerpt %}
    <div class="article-excerpt">{{ article.excerpt }}</div>
  {% endif %}
</div>

<div class="article-layout" data-subject="{{ article.subjectNormalized or ((article.subject or subject or 'none') | lower | replace(' ', '-')) }}">
  <!-- Left side: Article content (takes remaining space) -->
  <div style="flex: 1;">
    <!-- Main article content -->
    <div class="article-page">
      <!-- Tags above the meta bar -->
      {% if article.tags and article.tags.length > 0 %}
        <div class="article-tags">
          {% for tag in article.tags %}
            <span class="tag">{{ tag }}</span>
          {% endfor %}
        </div>
      {% endif %}

      <!-- Article meta bar above the main text -->
      <div class="article-meta-bar">
        {% if article.author or article.date %}
          <div class="article-meta-info">
            <div class="author-section">
              {% if article.author %}
                {% if article.subjectNormalized == 'physics' %}
                  <img src="{{ '/images/gifs/o1.gif' | url }}" alt="Physics GIF" class="author-gif" />
                {% elif article.subjectNormalized == 'mathematics' %}
                  <img src="{{ '/images/gifs/b1.gif' | url }}" alt="Mathematics GIF" class="author-gif" />
                {% elif article.subjectNormalized == 'biology' %}
                  <img src="{{ '/images/gifs/g1.gif' | url }}" alt="Biology GIF" class="author-gif" />
                {% elif article.subjectNormalized == 'computer-science' %}
                  <img src="{{ '/images/gifs/pu1.gif' | url }}" alt="Computer Science GIF" class="author-gif" />
                {% elif article.subjectNormalized == 'chemistry' %}
                  <img src="{{ '/images/gifs/r1.gif' | url }}" alt="Chemistry GIF" class="author-gif" />
                {% else %}
                  <img src="{{ '/images/gifs/p1.gif' | url }}" alt="Default GIF" class="author-gif" />
                {% endif %}
                <span class="article-author">By {{ article.author }}</span>
              {% else %}
                <img src="{{ '/images/gifs/p1.gif' | url }}" alt="Default GIF" class="author-gif" />
                <span class="article-author">By Unknown</span>
              {% endif %}
            </div>
            {% if article.date %}
              <span class="article-date">{{ article.date }}</span>
            {% endif %}
          </div>
        {% endif %}
      </div>

      <div class="article-content">
        <div class="article-body">
          {{ content | safe }}
        </div>
      </div>
      
      {% if article.citations and article.citations.length > 0 %}
        <div class="article-citations">
          <h4>References:</h4>
          <ul>
            {% for citation in article.citations %}
              <li>{{ citation }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    </div>
  </div>

  <!-- Right side: Camera screen and sidebar column -->
  <div style="display: flex; flex-direction: column; align-items: flex-end;">
    <!-- Camera screen (flush with right edge) -->
    <div class="camera-screen">
      <img src="{{ '/images/bigcamerascreen.png' | url }}" alt="Camera Screen" class="camera-screen-img">
      <div class="camera-screen-cutout">
        {% if article.headerImage %}
          <img src="{{ article.headerImage | url }}" alt="{{ article.title }}" class="article-header-image">
        {% endif %}
      </div>
    </div>

    <!-- Articles sidebar with margin -->
    <div class="article-tiles-sidebar" data-subject="{{ article.subjectNormalized or ((article.subject or subject or 'none') | lower | replace(' ', '-')) }}" style="margin-top: 20px;">
      <div class="game-tag-filter-bar">
        <button class="game-tag-btn active" data-tag="all">All</button>
        {% set uniqueTags = [] %}
        {% for article in articles %}
          {% if article.tags %}
            {% for tag in article.tags %}
              {% if tag not in uniqueTags %}
                {% set uniqueTags = (uniqueTags.push(tag), uniqueTags) %}
              {% endif %}
            {% endfor %}
          {% endif %}
        {% endfor %}
        {% for tag in uniqueTags %}
          <button class="game-tag-btn" data-tag="{{ tag }}">{{ tag }}</button>
        {% endfor %}
      </div>
      <div class="game-articles-list article-tiles-list" id="game-articles-list">
        {% for otherArticle in articles %}
          {% if otherArticle.id != (article.id or '') %}
            <div class="game-article-tile" data-tags="{{ otherArticle.tags | join(',') }}">
              <img src="{{ (otherArticle.headerImage or '/images/error.png') | url }}" alt="{{ otherArticle.title }}" class="tile-header-image" />
              <div class="tile-title">{{ otherArticle.title }}</div>
              <a href="{{ ('/articles/' + otherArticle.slug + '/') | url }}" class="tile-link"></a>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<!-- Include the article sidebar filter JavaScript -->
<script src="{{ '/js/article-sidebar-filter.js' | url }}"></script>
t