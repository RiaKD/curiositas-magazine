---
layout: base.njk
---

{% set subjectClass = (article.subject | lower | replace(' ', '-') ) if article.subject else 'none' %}
<div class="article-layout" data-subject="{{ subjectClass }}">
  <div>
      <h1 class="article-title">{{ article.title }}</h1>
    <div class="article-page {{ subjectClass }}-article-page">
      <header class="article-header">
        <div class="article-tags">
          {% for tag in article.tags %}
            <span class="tag">{{ tag }}</span>
          {% endfor %}
        </div>
      </header>
      <div class="article-meta-bar">
        <span class="article-author">
          {% if subjectClass == 'biology' %}
            <img src="/images/gifs/g1.gif" alt="Green gif" class="author-gif" />
          {% elif subjectClass == 'chemistry' %}
            <img src="/images/gifs/r1.gif" alt="Red gif" class="author-gif" />
          {% elif subjectClass == 'physics' %}
            <img src="/images/gifs/o1.gif" alt="Orange gif" class="author-gif" />
          {% elif subjectClass == 'mathematics' %}
            <img src="/images/gifs/b1.gif" alt="Blue gif" class="author-gif" />
          {% elif subjectClass == 'computer-science' %}
            <img src="/images/gifs/pu1.gif" alt="Purple gif" class="author-gif" />
          {% else %}
            <img src="/images/gifs/p1.gif" alt="Pink gif" class="author-gif" />
          {% endif %}
          By {{ article.author }}
        </span>
        <span class="article-date">{{ article.date | readableDate }}</span>
      </div>
      <main class="article-content">
        {% if article.id %}
          {{ article.id | notionContent | safe }}
        {% else %}
          <em>No content available for this article.</em>
        {% endif %}
      </main>
      {% if article.citations %}
        <footer class="article-citations">
          <h2>References</h2>
          <ul>
            {% for citation in article.citations %}
              <li>{{ citation }}</li>
            {% endfor %}
          </ul>
        </footer>
      {% endif %}
    </div>
  </div>
  <div class="right-sidebar">
    <div class="camera-screen">
      <img src="/images/bigcamerascreen.png" alt="Camera Screen" class="camera-screen-img" />
      {% if article.headerImage %}
        <div class="camera-screen-cutout">
          <img src="{{ article.headerImage }}" alt="{{ article.title }}" class="camera-article-image" />
        </div>
      {% endif %}
    </div>
    
    <div class="article-tiles-sidebar">
      <div class="game-tag-filter-bar">
        <button class="game-tag-btn active" data-tag="all">All</button>
        {% set allTags = [] %}
        {% for articleItem in articles %}
          {% for tag in articleItem.tags %}
            {% if tag not in allTags %}
              {% set allTags = allTags.concat([tag]) %}
            {% endif %}
          {% endfor %}
        {% endfor %}
        {% for tag in allTags %}
          <button class="game-tag-btn" data-tag="{{ tag }}">{{ tag }}</button>
        {% endfor %}
      </div>
      <div class="game-articles-list" id="game-articles-list">
        {% for articleItem in articles %}
          <div class="game-article-tile" data-tags="{{ articleItem.tags | join(',') if articleItem.tags else '' }}">
            <img src="{{ articleItem.headerImage or '/images/error.png' }}" alt="{{ articleItem.title }}" class="tile-header-image" />
            <div class="tile-divider"></div>
            <div class="tile-title">{{ articleItem.title }}</div>
            <a href="/articles/{{ articleItem.slug }}/" class="tile-link"></a>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
<script src="/js/article-sidebar-filter.js"></script>
 